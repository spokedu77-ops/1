# IIW Warmup 빠른 시작 가이드

## 1단계: SQL 실행 (5분)

### Supabase SQL Editor로 이동
Dashboard → SQL Editor → New Query

### 전체 SQL 복사 & 붙여넣기
**`SETUP_ALL_IN_ONE.sql` 파일 내용 전체를 복사해서 붙여넣고 RUN**

```
sql/SETUP_ALL_IN_ONE.sql 파일을 열어서
Ctrl+A → Ctrl+C → Supabase SQL Editor에 붙여넣기 → Run
```

성공 메시지가 나오면 완료!

---

## 2단계: Storage 버킷 생성 (2분)

### Dashboard → Storage → New Bucket

버킷 설정:
- **Name**: `iiwarmup-files`
- **Public bucket**: ✅ 체크
- **File size limit**: 50 MB

버킷 생성 후:

### Storage 정책 실행

**`STORAGE_POLICIES.sql` 파일 내용을 SQL Editor에서 실행**

```sql
-- STORAGE_POLICIES.sql 파일 내용 복사 → 붙여넣기 → Run
```

---

## 3단계: 확인 (1분)

### SQL Editor에서 실행:

```sql
-- 테이블 확인
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN ('iiwarmup_programs', 'sports_videos');

-- 정책 확인
SELECT tablename, policyname FROM pg_policies 
WHERE tablename IN ('iiwarmup_programs', 'sports_videos');
```

2개 테이블과 4개 정책이 나오면 성공!

---

## 4단계: 앱에서 테스트

### 1. Admin 페이지 접속
```
http://localhost:3000/admin/iiwarmup
```

### 2. 웜업 프로그램 추가
- 2026년 1월 1주차 선택
- 제목 입력
- URL 방식으로 `https://example.com` 입력
- 저장

### 3. 구독자 페이지 확인
```
http://localhost:3000/iiwarmup
```

웜업이 보이면 완료!

---

## 문제 해결

### 에러: "relation already exists"
→ 이미 생성됨. 무시하고 진행

### 에러: "policy already exists"  
→ 이미 생성됨. 무시하고 진행

### 에러: "permission denied"
→ Supabase Dashboard에서 권한 확인

### Storage 정책 에러
→ 버킷 `iiwarmup-files`가 먼저 생성되어 있는지 확인

---

## 완료 체크리스트

- [ ] `SETUP_ALL_IN_ONE.sql` 실행 완료
- [ ] Storage 버킷 `iiwarmup-files` 생성 완료
- [ ] `STORAGE_POLICIES.sql` 실행 완료
- [ ] 확인 쿼리 실행 완료
- [ ] Admin 페이지 접속 확인
- [ ] 구독자 페이지 접속 확인

✅ 모든 체크리스트 완료 시 사용 준비 완료!
