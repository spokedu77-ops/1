# Flow Phase 솔직한 분석 보고서

## 1. 현재 상태 요약

### 레거시 (본인 원작)
- **위치**: `public/flow-phase/legacy_space_flow.html`, `public/flow-phase/index.html`
- **구조**: 단일 HTML 파일 ~1100줄
- **바닥색**: `0x050818` (거의 검정)
- **기능**: 박스만 있음, UFO 없음

### 현재 Next.js 이식본
- **위치**: `app/flow-phase/` (page.tsx + FlowEngine.ts + ObstacleManager.ts 등)
- **구조**: 여러 파일, ~2000줄 이상
- **바닥색**: `0x3b82f6` (파란색, 최근 수정)
- **기능**: UFO/Duck 추가, Admin 레벨 슬라이더

---

## 2. 문제점 (솔직 평가)

### 2.1 체감 가능한 개선이 거의 없음
- "이식"이라고 했지만, **레거시와 거의 같은 경험**을 더 복잡한 구조로 재구현한 것에 가깝다.
- 사용자 입장에서 "레거시보다 나아진 점"이 눈에 잘 안 들어온다.

### 2.2 바닥색 수정 과정의 문제
- 레거시 바닥: `0x050818` (어두움)
- 사용자 요청: "명확한 파란색"
- 실제 진행: 0x1e3a5f → 0x1e40af → 0x3b82f6 순으로 여러 번 수정
- **원인**: 어두운 색(0x1e3a5f 등)은 우주 배경·포그·조명 때문에 실제 화면에서는 거의 검정처럼 보임. "변경이 안 보인다"는 말이 맞았다.
- **결론**: 레거시 HTML에서 `0x050818` → `0x3b82f6` 한 번만 바꿨다면 5초 만에 끝났을 일이다.

### 2.3 구조 복잡도 대비 효과
- FlowEngine, ObstacleManager, coordContract, motion, background 등으로 쪼개져 있다.
- 하지만 **레거시 하나로 다 하고 있던 일**을 여러 파일로 나눈 것뿐이다.
- 유지보수·디버깅이 쉬워졌다고 보기 어렵고, "복잡해졌다"는 인상이 더 강하다.

### 2.4 추가된 기능(UFO, Admin)의 가치
- **UFO/Duck**: 사용자 요청으로 추가됨. 레거시에는 없던 기능.
- **Admin 레벨 슬라이더**: LV3/4 빠른 테스트용. 실사용 시 유용할 수 있음.
- 다만 이 기능들만으로는 "유료를 쓰는 이유"라고 말하기엔 부족하다는 느낌이 드는 건 이해된다.

---

## 3. 레거시 vs 이식본 비교표

| 항목 | 레거시 | Next.js 이식본 |
|------|--------|----------------|
| 바닥색 | 0x050818 (어두움) | 0x3b82f6 (파란) |
| UFO | 없음 | 있음 |
| Admin 레벨 선택 | 없음 | 있음 |
| 점프 로직 | setInterval 16ms | dt 기반 |
| 파일 수 | 1개 | 10개 이상 |
| 수정 난이도 | HTML 한 줄 수정 | 여러 파일, 타입, 빌드 |
| 실행 방법 | HTML 직접 열기 | npm run dev |

---

## 4. 결론 및 제안

### 솔직한 결론
- **"이식"**은 Next.js 앱에 Flow Phase를 통합하려는 기술적 목적에는 부합했다.
- 하지만 **"개선"**이라고 부르기엔, 체감되는 변화가 적었다.
- 바닥색처럼 단순한 변경도 여러 번 시도가 필요했고, 이 과정에서 "변경이 안 보인다"는 혼란이 생겼다.
- 그 결과, **"돈만 날렸다"**는 느낌이 드는 건 충분히 이해 가능한 반응이다.

### 제안 1: 레거시를 기준으로 삼기
- **진짜 기준**은 `public/flow-phase/legacy_space_flow.html` (또는 index.html)이다.
- 여기서 바닥색 `0x050818` → `0x3b82f6` 한 줄만 바꾸면, 레거시 HTML로 실행했을 때 바로 파란 바닥이 보인다.
- 이후에도 "우선 레거시에서 수정 → 확인 → Next.js로 반영" 순서를 쓰면, 변경이 눈에 잘 보이고 되돌리기도 쉽다.

### 제안 2: Next.js 이식본의 역할 재정의
- Next.js 이식본은 **앱 내 통합·Admin·UFO** 같은 추가 기능 전용으로 두고,
- **시각·감각·밸런스** 같은 톤 앤 필은 **레거시를 먼저 손대는 쪽**으로 정하는 게 낫다.
- 그러면 "변경이 안 보인다"는 문제도 줄어든다.

### 제안 3: 앞으로의 작업 방식
1. **시각/감각 변경**: 먼저 레거시 HTML에서 수정 후 확인
2. **확정된 변경**: 그다음 Next.js FlowEngine 등에 동일하게 반영
3. **추가 기능(UFO, Admin 등)**: Next.js 쪽에만 두고, 레거시는 "원본 스냅샷"으로 유지

---

## 5. 레거시 바닥색 즉시 수정 (원하시면)

`public/flow-phase/legacy_space_flow.html` 513번째 줄:

```javascript
// 현재
new THREE.MeshPhongMaterial({ color:0x050818, transparent:true, opacity:0.9 })

// 변경
new THREE.MeshPhongMaterial({ color:0x3b82f6, transparent:true, opacity:0.9 })
```

이 파일을 브라우저에서 직접 열면, 레거시 그대로 파란 바닥을 바로 확인할 수 있다.
